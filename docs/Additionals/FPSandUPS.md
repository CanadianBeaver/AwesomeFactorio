# Про FPS, UPS и производительность игры

:::tip Вся статья, кратко
Слишком большая база или много объектов на карте могут стать причиной повышенных счетов за электричество.
:::

## Чё за FPS?

FPS цэ Frames Per Second, что означает количество кадров, которые отображаются на экране каждую секунду во время игры. Вся эта муть связана с вашей графической картой. При низком значении FPS, экран будет обновляться реже, но игра продолжит работать с обычной скоростью. Анонимоус утверждает, что любой `Intel HD Graphics 630` хватит для игры в *Factorio*, даже в UHD.

## А чё за UPS?

UPS цэ Updates Per Second, относится уже к вашему центральному процессору и ещё к подсистеме памяти. Но важен не объём памяти, а скорость памяти. Вся эта муть намного важнее графической карты, так как *Factorio* это постоянные вычисления всех сущностей в игре, а на графику всем плевать. При низком значений UPS, игра будет тормозить в целом и симуляция будет вас напрягать. [Разные личности](./NerdsVsGeeks.md#озабоченные-гигагерцами-и-тэрафлопсами) пытаются решить проблемы с производительностью разными мохнатыми чертежами, но к реальной игре это имеет мало отношения. [Другие личности](./NerdsVsGeeks.md#народные-деффутаты) готовы тратить свои заначки на улучшение железок, но этот путь тоже утопический. Если у вас UPS упал до невозможности, но при начале другой (новой) игры с производительностью всё в порядке, вы ничего не сможете сделать, уж поверьте.

## Как решать вопросы с производительностью?

*Factorio* всегда старается симулировать значениями 60 FPS на 60 UPS. Больше 60 кадров игра не умеет, "это не возможно, физически" и пофиг на 165Hz вашего монитора. При случае `маленький FPS/нормальный UPS` проблема точно связана с графикой. Тут либо понижать параметры графики в настройках игры, что помогает плохо. Больший эффект даст новая видюха, но нынче это запредельно дорого. Да и возникает вопрос, на чём вы там играете, если у вас графика *Factorio* тормозит, не на Radeon 2600XT ли?

Другой случай, `маленький FPS/маленький UPS`. Такую проблему можно будет решить лет через 18-20, когда компьютеры, согласно закону Мура, смогут тянуть *Factorio*. И то не факт, зато есть время подготовиться. Сколько вам там сейчас, за сорок уже небось? Ну так, при выходе на пенсию будет вам счастье. Как вариант, можете [попытать счастье сейчас](https://wiki.factorio.com/Tutorial:Diagnosing_performance_issues), удачи.

## Можно поиграться с диагностикой

Хотя есть один рецепт, откройте меню `Debug settings` (клавиша `F4`) и включите опции `show-fps` и `show-time-usage`. На экране будете видеть с какой скоростью работает *Factorio* и на что больше всего тратятся такты центрального процессора. Вангую, на первых местах будут поезда, манипуляторы, и роботы при строительствах множества чертежей. Зачастую роботы вызывают временные трудности, которые заканчиваются как только закончатся их полёты. Основные проблемы с производительностью вызывают поезда и манипуляторы, с производительностью которых очень трудно бороться.

Вот так выглядит простой работяга с завода, который после отпаханной смены строит ещё и свои виртуальные заводы с большой задержкой отклика (извините, писать красивые надписи на чужих картинках ещё не научился):

*![Factorio на 5 UPS](../_images/Additionals/FPSandUPS.01.jpg)*

Ну вы поняли, либо идите в гигов, либо идите в нерды, либо возвращайтесь назад, к танчикам и овервотч.

## Советы от не гикнутого

Следующие наставления могут помочь поднять хоть чуток производительность *Factroio*, а могут и не помочь.

* Уменьшите количество сущностей, практически всё в игре является сущностью, которые нужно просчитать. Совет, конечно от капитана ачевиднасть, вырубайте деревья в общем.
* Используйте солнечную энергию, она просчитывается почти мгновенно, так как все солнечные панели рассматриваются как одна большая солнечная панель с множителем их количества.
* Замените конвейеры на подземные конвейеры. Подземные конвейеры используют некую `телепортацию предметов`, поэтому считаются на много быстрее. При этом сильно увеличится расход ресурсов на построение чертежей.
* Отключите загрязнение и фауну. Правда игра станет скучнее. А действительно, если вырубать деревья, то поглощать загрязнение будет некому, тогда и фауна не нужна.
* Управляйте пакетными манипуляторами так, что бы заставить их вставлять предметы пачками, по дюжине штук. Тут без комбинаторов не обойтись, учите лженауку кибернетику.
* Стремитесь производить как можно больше предметов используя как можно меньшее количество сборочных автоматов. Путь гиков через маяки, модули скорости и продуктивности.
* Используйте дронов в небольших логистических сетях и старайтесь давать задания на как можно короткие расстояния. Совет так себе, роботы давят на производительность только когда строят. Хотя с другой стороны, строить нужно постоянно. В общем, это самый последний пункт, над которым стоит задуматься.

Честно говоря, все эти советы помогут мало. Ну получите вы вместо 5 UPS каких-то там аж 8. И щё будя?